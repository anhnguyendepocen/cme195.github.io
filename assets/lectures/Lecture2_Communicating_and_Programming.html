<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Lan Huong Nguyen" />
  <title>CME/STATS 195</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="libs/reveal.js-3.3.0.1/css/reveal.css"/>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="libs/reveal.js-3.3.0.1/css/theme/simple.css" id="theme">


  <!-- some tweaks to reveal css -->
  <style type="text/css">
    .reveal h1 { font-size: 2.0em; }
    .reveal h2 { font-size: 1.5em;  }
    .reveal h3 { font-size: 1.25em;	}
    .reveal h4 { font-size: 1em;	}

    .reveal .slides>section,
    .reveal .slides>section>section {
      padding: 0px 0px;
    }



    .reveal table {
      border-width: 1px;
      border-spacing: 2px;
      border-style: dotted;
      border-color: gray;
      border-collapse: collapse;
      font-size: 0.7em;
    }

    .reveal table th {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      font-weight: bold;
      border-style: dotted;
      border-color: gray;
    }

    .reveal table td {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      border-style: dotted;
      border-color: gray;
    }


  </style>

    <style type="text/css">code{white-space: pre;}</style>

    <link rel="stylesheet" href="cme195.css"/>

<!-- Printing and PDF exports -->
<script id="paper-css" type="application/dynamic-css">

/* Default Print Stylesheet Template
   by Rob Glazebrook of CSSnewbie.com
   Last Updated: June 4, 2008

   Feel free (nay, compelled) to edit, append, and
   manipulate this file as you see fit. */


@media print {

	/* SECTION 1: Set default width, margin, float, and
	   background. This prevents elements from extending
	   beyond the edge of the printed page, and prevents
	   unnecessary background images from printing */
	html {
		background: #fff;
		width: auto;
		height: auto;
		overflow: visible;
	}
	body {
		background: #fff;
		font-size: 20pt;
		width: auto;
		height: auto;
		border: 0;
		margin: 0 5%;
		padding: 0;
		overflow: visible;
		float: none !important;
	}

	/* SECTION 2: Remove any elements not needed in print.
	   This would include navigation, ads, sidebars, etc. */
	.nestedarrow,
	.controls,
	.fork-reveal,
	.share-reveal,
	.state-background,
	.reveal .progress,
	.reveal .backgrounds {
		display: none !important;
	}

	/* SECTION 3: Set body font face, size, and color.
	   Consider using a serif font for readability. */
	body, p, td, li, div {
		font-size: 20pt!important;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		color: #000;
	}

	/* SECTION 4: Set heading font face, sizes, and color.
	   Differentiate your headings from your body text.
	   Perhaps use a large sans-serif for distinction. */
	h1,h2,h3,h4,h5,h6 {
		color: #000!important;
		height: auto;
		line-height: normal;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		text-shadow: 0 0 0 #000 !important;
		text-align: left;
		letter-spacing: normal;
	}
	/* Need to reduce the size of the fonts for printing */
	h1 { font-size: 28pt !important;  }
	h2 { font-size: 24pt !important; }
	h3 { font-size: 22pt !important; }
	h4 { font-size: 22pt !important; font-variant: small-caps; }
	h5 { font-size: 21pt !important; }
	h6 { font-size: 20pt !important; font-style: italic; }

	/* SECTION 5: Make hyperlinks more usable.
	   Ensure links are underlined, and consider appending
	   the URL to the end of the link for usability. */
	a:link,
	a:visited {
		color: #000 !important;
		font-weight: bold;
		text-decoration: underline;
	}
	/*
	.reveal a:link:after,
	.reveal a:visited:after {
		content: " (" attr(href) ") ";
		color: #222 !important;
		font-size: 90%;
	}
	*/


	/* SECTION 6: more reveal.js specific additions by @skypanther */
	ul, ol, div, p {
		visibility: visible;
		position: static;
		width: auto;
		height: auto;
		display: block;
		overflow: visible;
		margin: 0;
		text-align: left !important;
	}
	.reveal pre,
	.reveal table {
		margin-left: 0;
		margin-right: 0;
	}
	.reveal pre code {
		padding: 20px;
		border: 1px solid #ddd;
	}
	.reveal blockquote {
		margin: 20px 0;
	}
	.reveal .slides {
		position: static !important;
		width: auto !important;
		height: auto !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 0 !important;
		zoom: 1 !important;

		overflow: visible !important;
		display: block !important;

		text-align: left !important;
		-webkit-perspective: none;
		   -moz-perspective: none;
		    -ms-perspective: none;
		        perspective: none;

		-webkit-perspective-origin: 50% 50%;
		   -moz-perspective-origin: 50% 50%;
		    -ms-perspective-origin: 50% 50%;
		        perspective-origin: 50% 50%;
	}
	.reveal .slides section {
		visibility: visible !important;
		position: static !important;
		width: auto !important;
		height: auto !important;
		display: block !important;
		overflow: visible !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 60px 20px !important;
		z-index: auto !important;

		opacity: 1 !important;

		page-break-after: always !important;

		-webkit-transform-style: flat !important;
		   -moz-transform-style: flat !important;
		    -ms-transform-style: flat !important;
		        transform-style: flat !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;

		-webkit-transition: none !important;
		   -moz-transition: none !important;
		    -ms-transition: none !important;
		        transition: none !important;
	}
	.reveal .slides section.stack {
		padding: 0 !important;
	}
	.reveal section:last-of-type {
		page-break-after: avoid !important;
	}
	.reveal section .fragment {
		opacity: 1 !important;
		visibility: visible !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;
	}
	.reveal section img {
		display: block;
		margin: 15px 0px;
		background: rgba(255,255,255,1);
		border: 1px solid #666;
		box-shadow: none;
	}

	.reveal section small {
		font-size: 0.8em;
	}

}  
</script>


<script id="pdf-css" type="application/dynamic-css">
    
/**
 * This stylesheet is used to print reveal.js
 * presentations to PDF.
 *
 * https://github.com/hakimel/reveal.js#pdf-export
 */

* {
	-webkit-print-color-adjust: exact;
}

body {
	margin: 0 auto !important;
	border: 0;
	padding: 0;
	float: none !important;
	overflow: visible;
}

html {
	width: 100%;
	height: 100%;
	overflow: visible;
}

/* Remove any elements not needed in print. */
.nestedarrow,
.reveal .controls,
.reveal .progress,
.reveal .playback,
.reveal.overview,
.fork-reveal,
.share-reveal,
.state-background {
	display: none !important;
}

h1, h2, h3, h4, h5, h6 {
	text-shadow: 0 0 0 #000 !important;
}

.reveal pre code {
	overflow: hidden !important;
	font-family: Courier, 'Courier New', monospace !important;
}

ul, ol, div, p {
	visibility: visible;
	position: static;
	width: auto;
	height: auto;
	display: block;
	overflow: visible;
	margin: auto;
}
.reveal {
	width: auto !important;
	height: auto !important;
	overflow: hidden !important;
}
.reveal .slides {
	position: static;
	width: 100%;
	height: auto;

	left: auto;
	top: auto;
	margin: 0 !important;
	padding: 0 !important;

	overflow: visible;
	display: block;

	-webkit-perspective: none;
	   -moz-perspective: none;
	    -ms-perspective: none;
	        perspective: none;

	-webkit-perspective-origin: 50% 50%; /* there isn't a none/auto value but 50-50 is the default */
	   -moz-perspective-origin: 50% 50%;
	    -ms-perspective-origin: 50% 50%;
	        perspective-origin: 50% 50%;
}

.reveal .slides section {
	page-break-after: always !important;

	visibility: visible !important;
	position: relative !important;
	display: block !important;
	position: relative !important;

	margin: 0 !important;
	padding: 0 !important;
	box-sizing: border-box !important;
	min-height: 1px;

	opacity: 1 !important;

	-webkit-transform-style: flat !important;
	   -moz-transform-style: flat !important;
	    -ms-transform-style: flat !important;
	        transform-style: flat !important;

	-webkit-transform: none !important;
	   -moz-transform: none !important;
	    -ms-transform: none !important;
	        transform: none !important;
}

.reveal section.stack {
	margin: 0 !important;
	padding: 0 !important;
	page-break-after: avoid !important;
	height: auto !important;
	min-height: auto !important;
}

.reveal img {
	box-shadow: none;
}

.reveal .roll {
	overflow: visible;
	line-height: 1em;
}

/* Slide backgrounds are placed inside of their slide when exporting to PDF */
.reveal section .slide-background {
	display: block !important;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	z-index: -1;
}

/* All elements should be above the slide-background */
.reveal section>* {
	position: relative;
	z-index: 1;
}

/* Display slide speaker notes when 'showNotes' is enabled */
.reveal .speaker-notes-pdf {
	display: block;
	width: 100%;
	max-height: none;
	left: auto;
	top: auto;
	z-index: 100;
}

/* Display slide numbers when 'slideNumber' is enabled */
.reveal .slide-number-pdf {
	display: block;
	position: absolute;
	font-size: 14px;
}

</script>


<script>
var style = document.createElement( 'style' );
style.type = 'text/css';
var style_script_id = window.location.search.match( /print-pdf/gi ) ? 'pdf-css' : 'paper-css';
var style_script = document.getElementById(style_script_id).text;
style.innerHTML = style_script;
document.getElementsByTagName('head')[0].appendChild(style);
</script>

</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
    <h1 class="title">CME/STATS 195</h1>
  <h1 class="subtitle">Lecture 2: Communicating using R Markdown &amp; Elements of Programming</h1>
    <h2 class="author">Lan Huong Nguyen</h2>
    <h3 class="date">October 2, 2018</h3>
</section>

<section id="contents" class="slide level2">
<h2>Contents</h2>
<div class="left" ,="" style="width: 50%">
<ul>
<li>Working with R:
<ul>
<li>Using RStudio</li>
<li>Communicating<br />
with R Markdown</li>
</ul></li>
<li>Programming
<ul>
<li>Syntax</li>
<li>Control flow statements</li>
<li>Functions</li>
</ul></li>
</ul>
</div>
<div class="right" ,="" style="width: 50%">
<p><img src="Lecture2-figure/data-science.png", width="950"></img></p>
</div>
</section>
<section><section id="using-rstudio" class="titleslide slide level1"><h1>Using RStudio</h1></section><section id="rstudio-window" class="slide level2">
<h2>RStudio window</h2>
<p><img src="Lecture2-figure/RStudio_window.png",  width="1000"></img></p>
</section><section id="rstudio-preferences" class="slide level2">
<h2>RStudio preferences</h2>
<p><img src="Lecture2-figure/RStudio_preferences.png", width="1000"></img></p>
</section><section id="rstudio-layout" class="slide level2">
<h2>RStudio layout</h2>
<p><img src="Lecture2-figure/RStudio_layout.png", width="1000"></img></p>
</section><section id="rstudio-apprearance" class="slide level2">
<h2>RStudio apprearance</h2>
<p><img src="Lecture2-figure/RStudio_appearances.png", width="1000"></img></p>
<p>More on RStudio cuztomization can be found <a href="https://support.rstudio.com/hc/en-us/articles/200549016-Customizing-RStudio">here</a></p>
</section><section id="r-document-types" class="slide level2">
<h2>R document types</h2>
<p><img src="Lecture2-figure/RStudio_documents.png", width="1000"></img></p>
</section><section id="r-document-types-1" class="slide level2">
<h2>R document types</h2>
<ul>
<li><p><a href="https://cran.r-project.org/doc/contrib/Lemon-kickstart/kr_scrpt.html">R Script</a> <strong>a text file</strong> containing R commands stored together.</p></li>
<li><p><a href="http://rmarkdown.rstudio.com/lesson-1.html">R Markdown</a> files can generate high quality reports contatining notes, code and code outputs. <strong>Python and bash code </strong> can also be executed.</p></li>
<li><p><a href="http://rmarkdown.rstudio.com/r_notebooks.html">R Notebook</a> is an R Markdown document with <strong>chunks that can be executed independently and interactively</strong>, with output visible immediately beneath the input.</p></li>
<li><p><a href="https://support.rstudio.com/hc/en-us/articles/200486468-Authoring-R-Presentations">R presentation</a> let’s you author <strong>slides</strong> that make use of R code and LaTeX equations as <strong>straightforward</strong> as possible.</p></li>
<li><p><a href="https://support.rstudio.com/hc/en-us/articles/200552056-Using-Sweave-and-knitr">R Sweave</a> enables the embedding of <strong>R code within LaTeX documents</strong>.</p></li>
<li><p><a href="http://rmarkdown.rstudio.com/formats.html">Other</a> documents</p></li>
</ul>
</section></section>
<section><section id="communicating-with-r-markdown" class="titleslide slide level1"><h1>Communicating with R Markdown</h1></section><section id="r-markdown" class="slide level2">
<h2>R Markdown</h2>
<p>R Markdown provides an unified authoring framework for data science, combining your code, its results, and your prose commentary.</p>
<p>R Markdown was designed to be used:</p>
<ul>
<li><p>for communicating your conclusions with people who do not want to focus on the code behind the analysis.</p></li>
<li><p>for collaborating with other data scientists, interested in both conclusions, and the code.</p></li>
<li><p>as a modern day lab notebook for data science, where you can capture both your work and your thought process.</p></li>
</ul>
<div class="left" ,="" style="width: 50%">
<p><img src="Lecture2-figure/rmarkdown.png" /></p>
</div>
<div class="right" ,="" style="width: 50%">
<p><img src="Lecture2-figure/data-science-communicate.png" /></p>
</div>
</section><section id="r-markdown-sourse-files" class="slide level2">
<h2>R Markdown sourse files</h2>
<p>R Markdown files are a plain text files with “.Rmd” extension.</p>
<pre><code>    ---
    title: &quot;Title of my first document&quot;
    date: &quot;2018-09-27&quot;
    output: html_document
    ---
    
    # Section title
    
    ```{r chunk-name, include = FALSE}
    library(tidyverse)
    summary(cars)
    ```
    
    ## Subsection title
    
    ```{r pressure, echo=FALSE}
    plot(pressure)
    ```
    
    Note that the `echo = FALSE` parameter was added to the code chunk to 
    prevent printing of the R code that generated the plot.
</code></pre>
<p>The documents must contain <strong>YAML header</strong> marked with dashes. You can ass both <strong>code chunks</strong> and <strong>plain text</strong>. Sections and subsections are marked with hashtags.</p>
</section><section id="compiling-r-markdown-files" class="slide level2">
<h2>Compiling R Markdown files</h2>
<p>To produce a complete report containing all text, code, and results:</p>
<ul>
<li><p>In RStudio, click on “Knit” or press <code>Cmd/Ctrl</code> <code>+</code> <code>Shift + K</code>.</p></li>
<li><p>From the R command line, type rmarkdown::render(“filename.Rmd”)</p></li>
</ul>
<p>This will display the report in the viewer pane, and create a self-contained HTML file that you can share with others.</p>
<p>After compiling the R Markdown document from the previous slide, you get <a href="https://cme195.github.io/assets/lectures/test_rmd.html">this html</a>.</p>
</section><section id="viewing-the-report-in-rstudio" class="slide level2">
<h2>Viewing the report in RStudio</h2>
<p><img src="Lecture2-figure/rmarkdown-viewer.png", width="1000"></img></p>
</section><section id="yaml-header" class="slide level2">
<h2>YAML header</h2>
<p>A YAML header is a set of <code>key: value</code> pairs at the start of your file. Begin and end the header with a line of three dashes (- - -), e.g.</p>
<pre><code>---
title: &quot;Untitled&quot;
author: &quot;Anonymous&quot;
output: html_document
---</code></pre>
<p>You can tell R Markdown what type of document you want to render: <code>html_document</code> (default), <code>pdf_document</code>, <code>word_document</code>, <code>beamer_presentation</code> etc.</p>
<p>You can print a table of contents (toc) with the following:</p>
<pre><code>---
title: &quot;Untitled&quot;
author: &quot;Anonymous&quot;
output: 
  html_document:
    toc: true
---</code></pre>
</section><section id="text-in-r-markdown" class="slide level2">
<h2>Text in R Markdown</h2>
<p>In “.Rmd” files, prose is written in Markdown, a lightweight markup language with plain text files formating syntax.</p>
<p>Section headers/titles:</p>
<pre><code># 1st Level Header

## 2nd Level Header

### 3rd Level Header</code></pre>
<p>Text formatting:</p>
<pre><code>*italic* or _italic_
**bold** __bold__

`code`
superscript^2^ and subscript~2~</code></pre>
</section><section id="text-in-r-markdown-1" class="slide level2">
<h2>Text in R Markdown</h2>
<p>Lists:</p>
<pre><code>* unordered list
* item 2
    + sub-item 1
    + sub-item 2 
    
1. ordered list 
1. item 2. The numbers are incremented automatically in the output.</code></pre>
<p>Links and images:</p>
<pre><code>&lt;http://example.com&gt; 

[linked phrase](http://example.com)

![optional caption text](path/to/img.png)</code></pre>
</section><section id="text-in-r-markdown-2" class="slide level2">
<h2>Text in R Markdown</h2>
<p>Tables:</p>
<pre><code>Table Header | Second Header
-------------| -------------
Cell 1       | Cell 2
Cell 3       | Cell 4 
</code></pre>
<p>Math formulae</p>
<pre><code>$\alpha$ is the first letter of the Greek alphabet.

Using $$ prints a centered equation in the new line.

$$\sqrt{\alpha^2 + \beta^2} = \frac{\gamma}{2}$$</code></pre>
</section><section id="code-chunks" class="slide level2">
<h2>Code chunks</h2>
<p>In R Markdown R code must go inside code chunks, e.g.:</p>
<pre><code>  ```{r chunk-name}
      x &lt;- runif(10)
      y &lt;- 10 * x + 4
      plot(x, y)
  ```</code></pre>
<p><br/></p>
<p>Keyboard shortcuts:</p>
<ul>
<li><p>Insert a new code chunk: <strong><code>Ctrl/Cmd + Alt + I</code></strong></p></li>
<li><p>Run current chunk: <strong><code>Ctrl/Cmd + Shift + Enter</code></strong></p></li>
<li><p>Run current line (where the cursor is): <strong><code>Ctrl/Cmd + Enter</code></strong></p></li>
</ul>
</section><section id="chunk-options" class="slide level2">
<h2>Chunk Options:</h2>
<p>Chunk output can be customized with options supplied to chunk header. Some non-default options are:</p>
<ul>
<li><code>eval = FALSE</code> : prevents code from being evaluated</li>
<li><code>include = FALSE</code> : runs the code, but hides code and its output in the final document</li>
<li><code>echo = FALSE</code> : hides the code, but not the results, in the final document</li>
<li><code>message = FALSE</code> : hides messages</li>
<li><code>warning = FALSE</code> : hides warnings</li>
<li><code>results = ‘hide’</code> : hides printed output</li>
<li><code>fig.show = ‘hide’</code> : hides plots</li>
<li><code>error = TRUE</code> : does not stop rendering if error occurs</li>
</ul>
</section><section id="inline-code" class="slide level2">
<h2>Inline code</h2>
<p>You can evealuate R code in a middle of your text:</p>
<pre><code>  There are 26 in the alphabet, and 12 months in each year. 
  Today, there are `as.Date(&quot;2019-08-23&quot;) - Sys.Date()` days left till my next birthday.</code></pre>
<p>There are 26 in the alphabet, and 12 months in a year. Today, there are 334 days left till my next birthday.</p>
</section><section id="more-on-r-markdown" class="slide level2">
<h2>More on R Markdown</h2>
<p>R Markdown is relatively young, and growing rapidly.</p>
<p>Official R Markdown website: (<a href="http://rmarkdown.rstudio.com" class="uri">http://rmarkdown.rstudio.com</a>)</p>
<p>Further reading and references:</p>
<ul>
<li><a href="http://www.stat.cmu.edu/~cshalizi/rmarkdown" class="uri">http://www.stat.cmu.edu/~cshalizi/rmarkdown</a></li>
<li><a href="http://r4ds.had.co.nz" class="uri">http://r4ds.had.co.nz</a></li>
<li><a href="https://www.rstudio.com/resources/cheatsheets/" class="uri">https://www.rstudio.com/resources/cheatsheets/</a></li>
</ul>
</section><section id="some-r-markdown-advice" class="slide level2">
<h2>Some R Markdown advice</h2>
<ul>
<li>See your future self as a collaborator.</li>
<li>Ensure each notebook has a descriptive title and name.</li>
<li>Use the header date to record start time</li>
<li>Keep track of failed attempts</li>
<li>If you discover an error in a data file, write code to fix it.</li>
<li>Regularly knit the notebook</li>
<li>Use random seeds before sampling.</li>
<li>Keep track the versions of the packages you use, e.g. by including <code>sessionInfo()</code> command at the end of your document.</li>
</ul>
<p>All the above will help you increase the reproduciblity of your work.</p>
</section></section>
<section><section id="programming-syntax" class="titleslide slide level1"><h1>Programming: Syntax</h1></section><section id="style-guide" class="slide level2">
<h2>Style Guide</h2>
<ul>
<li>There are two main style conventions used in R:
<ul>
<li><p><a href="http://adv-r.had.co.nz/Style.html">Hadley Wickam style</a></p></li>
<li><p><a href="https://google.github.io/styleguide/Rguide.xml">Google R style</a></p></li>
</ul></li>
<li><p>You can use either of the two style guides or create your own customized style.</p></li>
<li><p>But you should stay <strong>consistent</strong>, e.g. if you choose to assign variables with <code>&lt;-</code>, stick to it and don’t use <code>=</code>.</p></li>
</ul>
</section><section id="curly-braces" class="slide level2">
<h2>Curly braces</h2>
<div class="left" ,="" style="width: 50%">
<ul>
<li>An opening curly brace “<code>{</code>” should not go on its own line and be followed by a new line.</li>
<li>A closing curly “<code>}</code>” brace can go on its own line.</li>
<li>Indent the code inside curly braces.</li>
<li>It’s ok to leave very short statements on the same line</li>
</ul>
</div>
<div class="right" ,="" style="width: 50%">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Good</span>
<span class="cf">if</span> (y <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;&amp;</span><span class="st"> </span>debug) {
  <span class="kw">message</span>(<span class="st">&quot;Y is negative&quot;</span>)
}
<span class="cf">if</span> (y <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {
  <span class="kw">log</span>(x)
} <span class="cf">else</span> {
  y <span class="op">^</span><span class="st"> </span>x
}

<span class="co"># Bad</span>
<span class="cf">if</span> (y <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;&amp;</span><span class="st"> </span>debug)
<span class="kw">message</span>(<span class="st">&quot;Y is negative&quot;</span>)

<span class="cf">if</span> (y <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {
  <span class="kw">log</span>(x)
} 
<span class="cf">else</span> {
  y <span class="op">^</span><span class="st"> </span>x
}</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (y <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;&amp;</span><span class="st"> </span>debug) <span class="kw">message</span>(<span class="st">&quot;Y is negative&quot;</span>)</code></pre></div>
</div>
</section><section id="code-documentation" class="slide level2">
<h2>Code Documentation</h2>
<div class="left" ,="" style="width: 50%">
<ul>
<li><p>Comment your code! They will be helpful when you read your code a month after you wrote it.</p></li>
<li><p>In R each line of a comment should begin with a comment symbol “<code>#</code>”.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Function returns the answer to life, </span>
<span class="co"># the universe and everything else</span>
get_answer &lt;-<span class="st"> </span><span class="cf">function</span>(){
  <span class="kw">return</span>(<span class="dv">42</span>)
}</code></pre></div>
</div>
<div class="right" ,="" style="width: 50%">
<ul>
<li>Comments are not subtitles, i.e. don’t repeat the code in the comments.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Loop through all bananas in the bunch</span>
<span class="cf">for</span>(banana <span class="cf">in</span> bunch) {
  <span class="co"># make the monkey eat one banana</span>
  <span class="kw">MonkeyEat</span>(b)  
}</code></pre></div>
<ul>
<li>Use commented lines of - and = to break up your file into easily readable chunks.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load data ---------------------------</span>
<span class="co"># Plot data ---------------------------</span></code></pre></div>
</div>
</section></section>
<section><section id="programming-control-flow" class="titleslide slide level1"><h1>Programming: Control flow</h1></section><section id="booleanslogicals" class="slide level2">
<h2>Booleans/logicals</h2>
<div class="left" ,="" style="width: 50%">
<p><strong>Booleans</strong> are logical data types (TRUE/FALSE) associated with conditional statements, which allow different actions and change control flow.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># equal &quot;==&quot;&quot;</span>
<span class="dv">5</span> <span class="op">==</span><span class="st"> </span><span class="dv">5</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># not equal: &quot;!=&quot;&quot; </span>
<span class="dv">5</span> <span class="op">!=</span><span class="st"> </span><span class="dv">5</span> </code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># greater than: &quot;&gt;&quot;&quot;</span>
<span class="dv">5</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span> </code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># greater than or equal: &quot;&gt;=&quot;&quot; (# similarly &lt; and &lt;=)</span>
<span class="dv">5</span> <span class="op">&gt;=</span><span class="st"> </span><span class="dv">5</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div class="right" ,="" style="width: 50%">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># You can combine multiple boolean expressions</span>
<span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">TRUE</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span> </code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="ot">TRUE</span> <span class="op">|</span><span class="st"> </span><span class="ot">FALSE</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">!</span>(<span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
</section><section id="booleanslogicals-1" class="slide level2">
<h2>Booleans/logicals</h2>
<p>In R if you combine 2 vectors of booleans, by each element then use <code>&amp;</code>. Rember the <strong>recycling property</strong> for vectors.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] FALSE  TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">5</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">4</span>, <span class="dv">7</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">1</span><span class="op">&lt;</span><span class="st"> </span><span class="dv">2</span>) <span class="op">|</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span><span class="op">==</span><span class="dv">5</span>, <span class="dv">6</span><span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>, <span class="op">!</span><span class="ot">FALSE</span>)</code></pre></div>
<pre><code>## [1] TRUE TRUE TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)  <span class="co"># recycling</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE FALSE</code></pre>
</section><section id="booleanslogicals-2" class="slide level2">
<h2>Booleans/logicals</h2>
<p>If we use double operators <code>&amp;&amp;</code> or <code>||</code> is used only the first elements are compared:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>) <span class="op">&amp;&amp;</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">5</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">4</span>, <span class="dv">7</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">1</span><span class="op">&lt;</span><span class="st"> </span><span class="dv">2</span>) <span class="op">||</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span><span class="op">==</span><span class="dv">5</span>, <span class="dv">6</span><span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>, <span class="op">!</span><span class="ot">FALSE</span>)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>) <span class="op">&amp;&amp;</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</section><section id="booleanslogicals-3" class="slide level2">
<h2>Booleans/logicals</h2>
<ul>
<li>Another possibility to combine booleans is to use <code>all()</code> or <code>any()</code> functions:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">all</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>))</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">any</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>))</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">all</span>(<span class="kw">c</span>(<span class="dv">5</span> <span class="op">&gt;</span><span class="st"> </span><span class="op">-</span><span class="dv">1</span>, <span class="dv">3</span> <span class="op">&gt;=</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">1</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span>))</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">any</span>(<span class="kw">c</span>(<span class="dv">5</span> <span class="op">&gt;</span><span class="st"> </span><span class="op">-</span><span class="dv">1</span>, <span class="dv">3</span> <span class="op">&gt;=</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">1</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span>))</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</section><section id="control-statements" class="slide level2">
<h2>Control statements</h2>
<ul>
<li><p><strong>Control flow</strong> is the order in which individual statements, instructions or function calls of a program are evaluated.</p></li>
<li><p>Control statements allow you to do more complicated tasks.</p></li>
<li>Their execution results in a choice between which of two or more paths should be followed.
<ul>
<li><code>If</code> / <code>else</code></li>
<li><code>For</code></li>
<li><code>While</code></li>
</ul></li>
</ul>
</section><section id="if-statements" class="slide level2">
<h2>If statements</h2>
<div class="left" ,="" style="width: 50%">
<ul>
<li><p>Decide on whether a block of code should be executed based on the associated boolean expression.</p></li>
<li><p><strong>Syntax</strong>. The if statements are followed by a boolean expression wrapped in parenthesis. The conditional block of code is inside curly braces <code>{}</code>.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (traffic_light <span class="op">==</span><span class="st"> &quot;green&quot;</span>) {
  <span class="kw">print</span>(<span class="st">&quot;Go.&quot;</span>)
}</code></pre></div>
</div>
<div class="right" ,="" style="width: 50%">
<ul>
<li>‘if-else’ statements let you introduce more options</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (traffic_light <span class="op">==</span><span class="st"> &quot;green&quot;</span>) {
   <span class="kw">print</span>(<span class="st">&quot;Go.&quot;</span>)
} <span class="cf">else</span> {
   <span class="kw">print</span>(<span class="st">&quot;Stay.&quot;</span>)
}</code></pre></div>
<ul>
<li>You can also use <code>else if()</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (traffic_light <span class="op">==</span><span class="st"> &quot;green&quot;</span>) {
   <span class="kw">print</span>(<span class="st">&quot;Go.&quot;</span>)
} <span class="cf">else</span> <span class="cf">if</span> (traffic_light <span class="op">==</span><span class="st"> &quot;yellow&quot;</span>) {
  <span class="kw">print</span>(<span class="st">&quot;Get ready.&quot;</span>)
} <span class="cf">else</span> {
   <span class="kw">print</span>(<span class="st">&quot;Stay.&quot;</span>)
}</code></pre></div>
</div>
</section><section id="for-loops" class="slide level2">
<h2>For loops</h2>
<p></br></p>
<ul>
<li>A for loop is a statement which <strong>repeats the execution a block of code</strong> a given number of iterations.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>){
  <span class="kw">print</span>(i<span class="op">^</span><span class="dv">2</span>)
}</code></pre></div>
<pre><code>## [1] 1
## [1] 4
## [1] 9
## [1] 16
## [1] 25</code></pre>
</section><section id="while-loops" class="slide level2">
<h2>While loops</h2>
<p></br></p>
<ul>
<li>Similar to for loops, but repeat the execution as long <strong>as the boolean condition supplied is TRUE</strong>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">i =<span class="st"> </span><span class="dv">1</span>
<span class="cf">while</span>(i <span class="op">&lt;=</span><span class="st"> </span><span class="dv">5</span>) {
  <span class="kw">cat</span>(<span class="st">&quot;i =&quot;</span>, i, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)
  i =<span class="st"> </span>i <span class="op">+</span><span class="st"> </span><span class="dv">1</span>
}</code></pre></div>
<pre><code>## i = 1 
## i = 2 
## i = 3 
## i = 4 
## i = 5</code></pre>
</section><section id="next" class="slide level2">
<h2>Next</h2>
<div class="left" ,="" style="width: 50%">
<ul>
<li><code>next</code> halts the processing of the current iteration and advances the looping index.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) {
  <span class="cf">if</span> (i <span class="op">&lt;=</span><span class="st"> </span><span class="dv">5</span>) {
    <span class="kw">print</span>(<span class="st">&quot;skip&quot;</span>)
    <span class="cf">next</span>
  }
  <span class="kw">cat</span>(i, <span class="st">&quot;is greater than 5.</span><span class="ch">\n</span><span class="st">&quot;</span>)
}</code></pre></div>
<pre><code>## [1] &quot;skip&quot;
## [1] &quot;skip&quot;
## [1] &quot;skip&quot;
## [1] &quot;skip&quot;
## [1] &quot;skip&quot;
## 6 is greater than 5.
## 7 is greater than 5.
## 8 is greater than 5.
## 9 is greater than 5.
## 10 is greater than 5.</code></pre>
</div>
<div class="right" ,="" style="width: 50%">
<ul>
<li><code>next</code> applies only to the innermost of nested loops.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) {
  <span class="kw">cat</span>(<span class="st">&quot;Outer-loop i: &quot;</span>, i, <span class="st">&quot;.</span><span class="ch">\n</span><span class="st">&quot;</span>)
  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {
    <span class="cf">if</span>(j <span class="op">&gt;</span><span class="st"> </span>i) {
      <span class="kw">print</span>(<span class="st">&quot;skip&quot;</span>)
      <span class="cf">next</span>
    }
    <span class="kw">cat</span>(<span class="st">&quot;Inner-loop j:&quot;</span>, j, <span class="st">&quot;.</span><span class="ch">\n</span><span class="st">&quot;</span>)
  }
}</code></pre></div>
<pre><code>## Outer-loop i:  1 .
## Inner-loop j: 1 .
## [1] &quot;skip&quot;
## [1] &quot;skip&quot;
## [1] &quot;skip&quot;
## Outer-loop i:  2 .
## Inner-loop j: 1 .
## Inner-loop j: 2 .
## [1] &quot;skip&quot;
## [1] &quot;skip&quot;
## Outer-loop i:  3 .
## Inner-loop j: 1 .
## Inner-loop j: 2 .
## Inner-loop j: 3 .
## [1] &quot;skip&quot;</code></pre>
</div>
</section><section id="break" class="slide level2">
<h2>Break</h2>
<ul>
<li>The <code>break</code> statement allows us to break out out of a for, while loop (of the smallest enclosing).</li>
<li>The control is transferred to the first statement outside the inner-most loop.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)  {
  <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)  {
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Coming out from for loop Where i = &quot;</span>, i))
    <span class="cf">break</span>
  }
  <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;i is now: &quot;</span>, i))
}</code></pre></div>
<pre><code>## [1] &quot;i is now:  1&quot;
## [1] &quot;i is now:  2&quot;
## [1] &quot;i is now:  3&quot;
## [1] &quot;i is now:  4&quot;
## [1] &quot;i is now:  5&quot;
## [1] &quot;Coming out from for loop Where i =  6&quot;</code></pre>
</section><section id="exercise-1" class="slide level2">
<h2>Exercise 1</h2>
<p></br></p>
<ul>
<li><p>Go to “Lec2_ex.Rmd” in RStudio.</p></li>
<li><p>Do Exercise 1.</p></li>
</ul>
</section></section>
<section><section id="programming-functions" class="titleslide slide level1"><h1>Programming: Functions</h1></section><section id="functions" class="slide level2">
<h2>Functions</h2>
<ul>
<li><p>A <strong>function</strong> is a procedure/routine that performs a specific task.</p></li>
<li><p>Functions are used to <strong>abstract</strong> components of larger program.</p></li>
<li><p>They are like a mathematical functions. They <strong>take some input and then do something to find the result</strong>.</p></li>
<li><p>Functions allow you to <strong>automate common tasks</strong> in a more powerful and general way than copy-and-pasting.</p></li>
<li><p>A general rule is that you should <strong>use a function, whenever you’ve copied and pasted a block of code more than twice</strong>.</p></li>
</ul>
</section><section id="function-definition" class="slide level2">
<h2>Function Definition</h2>
<div class="left" ,="" style="width: 40%">
<ul>
<li><p>To define a function you assigne a variable name to a <code>function</code> object.</p></li>
<li><p>Functions take <strong>arguments, mandatory and optional</strong>.</p></li>
<li><p>Provide the brief <strong>description of your function in comments</strong> before the function definition.</p></li>
</ul>
</div>
<div class="right" ,="" style="width: 60%">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Computes mean and standard deviation</span>
<span class="co"># and optionally prints the results.</span>
mysummary &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">print=</span><span class="ot">TRUE</span>) {
  center &lt;-<span class="st"> </span><span class="kw">mean</span>(x)
  spread &lt;-<span class="st"> </span><span class="kw">sd</span>(x) 
  <span class="cf">if</span> (print) {
    <span class="kw">cat</span>(<span class="st">&quot;Mean =&quot;</span>, center, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        <span class="st">&quot;SD = &quot;</span>, spread, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)
  }
  result &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">mean=</span>center, 
                 <span class="dt">sd=</span>spread)
  <span class="kw">return</span>(result)
}</code></pre></div>
</div>
</section><section id="calling-functions" class="slide level2">
<h2>Calling functions</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">500</span>, <span class="dt">mean =</span> <span class="dv">4</span>, <span class="dt">sd =</span> <span class="dv">1</span>) 
y &lt;-<span class="st"> </span><span class="kw">mysummary</span>(x)</code></pre></div>
<pre><code>## Mean = 3.995883 
##  SD =  1.04007</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># without printing</span>
y &lt;-<span class="st"> </span><span class="kw">mysummary</span>(x, <span class="dt">print =</span> <span class="ot">FALSE</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Results are stored in list &quot;y&quot;</span>
y<span class="op">$</span>mean</code></pre></div>
<pre><code>## [1] 3.995883</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y<span class="op">$</span>sd</code></pre></div>
<pre><code>## [1] 1.04007</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The order of arguments does not matter if the names are specified</span>
y &lt;-<span class="st"> </span><span class="kw">mysummary</span>(<span class="dt">print=</span><span class="ot">FALSE</span>, <span class="dt">x =</span> x)</code></pre></div>
</section><section id="apply-lapply-sapply-functions" class="slide level2">
<h2>apply, lapply, sapply functions</h2>
<ul>
<li><p>The <code>apply</code> family functions, are <strong>functions which manipulate slices of data</strong> stored as matrices, arrays, lists and data-frames <strong>in a repetitive way</strong>.</p></li>
<li><p>These functions <strong>avoid the explicit use of loops</strong>, and might be <strong>more computationally efficient</strong>, depending on how big a dataset is. For more details on runtimes see this <a href="https://www.r-bloggers.com/gnu-r-loop-speed-comparison/">link</a>.</p></li>
<li><p><code>apply</code> allow you to perform operations with <strong>very few lines of code.</strong></p></li>
<li><p>The family comprises: <strong>apply, lapply , sapply, vapply, mapply, rapply, and tapply</strong>. The difference lies in the structure of input data and the desired format of the output).</p></li>
</ul>
</section><section id="apply-function" class="slide level2">
<h2>apply function</h2>
<p><code>apply</code> operates on arrays/matrices.</p>
<p>In the example below we obtain column sums of matrix <code>X</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(X &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">sample</span>(<span class="dv">30</span>), <span class="dt">nrow =</span> <span class="dv">5</span>, <span class="dt">ncol =</span> <span class="dv">6</span>))</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]   22    4   16   18   29    2
## [2,]   14    6    8   25   21    3
## [3,]   15   30    7    9    5   28
## [4,]   27    1   20   26   23   12
## [5,]   10   13   19   24   11   17</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apply</span>(X, <span class="dt">MARGIN =</span> <span class="dv">2</span> , <span class="dt">FUN =</span> sum)</code></pre></div>
<pre><code>## [1]  88  54  70 102  89  62</code></pre>
<p><strong>Note:</strong> that in a matrix <code>MARGIN = 1</code> indicates rows and <code>MARGIN = 2</code> indicates columns.</p>
</section><section id="apply-function-1" class="slide level2">
<h2>apply function</h2>
<div class="left" ,="" style="width: 50%">
<ul>
<li><code>apply</code> can be used with <strong>user-defined functions</strong>:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(X)</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]   22    4   16   18   29    2
## [2,]   14    6    8   25   21    3
## [3,]   15   30    7    9    5   28
## [4,]   27    1   20   26   23   12
## [5,]   10   13   19   24   11   17</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># number entries &lt; 15</span>
<span class="kw">apply</span>(X, <span class="dv">2</span>, <span class="cf">function</span>(x) <span class="dv">10</span><span class="op">*</span>x <span class="op">+</span><span class="st"> </span><span class="dv">2</span>) </code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]  222   42  162  182  292   22
## [2,]  142   62   82  252  212   32
## [3,]  152  302   72   92   52  282
## [4,]  272   12  202  262  232  122
## [5,]  102  132  192  242  112  172</code></pre>
</div>
<div class="right" ,="" style="width: 50%">
<ul>
<li>The function can be defined outside <code>apply()</code>,</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">logColMeans &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">eps =</span> <span class="ot">NULL</span>) {
  <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(eps)) x &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span>eps
  <span class="kw">return</span>(<span class="kw">mean</span>(x))
}
<span class="kw">apply</span>(X, <span class="dv">2</span>, logColMeans) </code></pre></div>
<pre><code>## [1] 17.6 10.8 14.0 20.4 17.8 12.4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apply</span>(X, <span class="dv">2</span>, logColMeans, <span class="dt">eps =</span> <span class="fl">0.1</span>) </code></pre></div>
<pre><code>## [1] 17.7 10.9 14.1 20.5 17.9 12.5</code></pre>
</div>
</section><section id="lapplysapply-functions" class="slide level2">
<h2>lapply/sapply functions</h2>
<div class="left" ,="" style="width: 50%">
<ul>
<li><p><code>lapply()</code> is used to <strong>repeatedly apply a function to elements of a sequential object</strong> such as a vector, list, or data-frame (applies to columns).</p></li>
<li><p>The <strong>output is a list</strong> with the same number of elements as the input object.</p></li>
<li><p><code>sapply</code> is the same as <code>lapply</code> but <strong>returns a “simplified” output</strong>.</p></li>
<li><p>user-defined functions can be used with <code>sapply/lapply</code></p></li>
</ul>
</div>
<div class="right" ,="" style="width: 50%">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># lapply returns a list</span>
<span class="kw">lapply</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="cf">function</span>(x) x<span class="op">^</span><span class="dv">2</span>)</code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 4
## 
## [[3]]
## [1] 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># which you can &#39;simplify&#39; with unlist()</span>
<span class="kw">unlist</span>(<span class="kw">lapply</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="cf">function</span>(x) x<span class="op">^</span><span class="dv">2</span>))</code></pre></div>
<pre><code>## [1] 1 4 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Or you could use sapply() instead</span>
<span class="kw">sapply</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="cf">function</span>(x) x<span class="op">^</span><span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 1 4 9</code></pre>
</div>
</section><section id="mapply-functions" class="slide level2">
<h2>mapply functions</h2>
<ul>
<li><code>mapply</code> stands for ‘multivariate’ apply. It <strong>applies a function to a multiple list or multiple vectors as arguments</strong>.</li>
<li>The goal is to vectorize arguments to a function which usually does not accept vectors as arguments.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># function word() returns a string of character C repeated k times.</span>
word &lt;-<span class="st"> </span><span class="cf">function</span>(C,k) <span class="kw">paste</span>(<span class="kw">rep.int</span>(C,k), <span class="dt">collapse=</span><span class="st">&#39;&#39;</span>)
<span class="kw">mapply</span>(word, LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>], <span class="dv">6</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">SIMPLIFY =</span> <span class="ot">FALSE</span>)</code></pre></div>
<pre><code>## $A
## [1] &quot;AAAAAA&quot;
## 
## $B
## [1] &quot;BBBBB&quot;
## 
## $C
## [1] &quot;CCCC&quot;
## 
## $D
## [1] &quot;DDD&quot;
## 
## $E
## [1] &quot;EE&quot;
## 
## $F
## [1] &quot;F&quot;</code></pre>
</section><section id="exercise-2-and-3" class="slide level2">
<h2>Exercise 2 and 3</h2>
<p></br></p>
<ul>
<li><p>Go back to “Lec2_ex.Rmd” in RStudio.</p></li>
<li><p>Do Exercise 2 and 3.</p></li>
</ul>
</section></section>
    </div>
  </div>

  <script src="libs/reveal.js-3.3.0.1/lib/js/head.min.js"></script>
  <script src="libs/reveal.js-3.3.0.1/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display the page number of the current slide
        slideNumber: true,
        // Push each slide change to the browser history
        history: true,
        // Vertical centering of slides
        center: true,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        // Transition style for full page slide backgrounds
        backgroundTransition: 'default', // none/fade/slide/convex/concave/zoom



        // Optional reveal.js plugins
        dependencies: [
        ]
      });
    </script>
  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

<script>
  (function() {
    if (window.jQuery) {
      Reveal.addEventListener( 'slidechanged', function(event) {  
        window.jQuery(event.previousSlide).trigger('hidden');
        window.jQuery(event.currentSlide).trigger('shown');
      });
    }
  })();
</script>


  </body>
</html>
